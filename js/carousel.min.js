function supports3dTransforms(){var a,b=document.createElement("p"),c={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(b,null);for(var d in c)c.hasOwnProperty(d)&&void 0!==b.style[d]&&(b.style[d]="translate3d(1px,1px,1px)",a=window.getComputedStyle(b).getPropertyValue(c[d]));return document.body.removeChild(b),void 0!==a&&a.length>0&&"none"!==a}function transitionEndEventName(){var a=document.createElement("div"),b={transition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var c in b)if(b.hasOwnProperty(c)&&void 0!==a.style[c])return b[c]}var VNCarousel;!function(){VNCarousel=function(a,b){if("classList"in document.createElement("_")){var c={infinite:!0,slidesWrapper:".js-carousel-slides-wrapper",carouselPrev:".js-carousel-prev",carouselNext:".js-carousel-next",carouselPagination:".js-carousel-pagination",peekingPercentage:0,slidesPerPage:1};for(var d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);var e,f,g,h,i,j,k=a.querySelector(c.slidesWrapper),l=k.children,m=a.querySelector(c.carouselPrev),n=a.querySelector(c.carouselNext),o=a.querySelector(c.carouselPagination),p=l.length,q=p/c.slidesPerPage,r=0,s=Math.max(0,Math.min(c.peekingPercentage,20))/100,t=transitionEndEventName(),u=supports3dTransforms(),v=function(){w(),p>c.slidesPerPage?(x(),D(0)):y()},w=function(){for(a.classList.add("carousel"),k.classList.add("carousel-slides-wrapper"),j=0;p>j;j++)l[j].classList.add("carousel-slide")},x=function(){c.infinite&&z();var a=100/p;for(g=a*s,f=(a-2*g)/c.slidesPerPage,k.style.width=100*p+"%",j=0;j<l.length;j++)l[j].style.width=f+"%";A(),B()},y=function(){for(j=0;p>j;j++)l[j].style.width=100/c.slidesPerPage+"%";a.classList.add("no-carousel")},z=function(){for(j=0;j<=c.slidesPerPage;j++){var a=l[j],b=a.cloneNode(!0);k.appendChild(b)}for(j=0;j<=c.slidesPerPage;j++){var d=l[2*j+p-c.slidesPerPage-1],e=d.cloneNode(!0);k.insertBefore(e,l[j])}l=k.children,r=l.length-p,p=l.length,q=(p-r)/c.slidesPerPage},A=function(){if(o){for(o.classList.add("carousel-pagination"),o.innerHTML='<button class="carousel-pagination-item">1</button>',e=o.children,j=0;j<(p-r)/c.slidesPerPage-1;j++){var a=e[0].cloneNode(!0);e[0].parentNode.appendChild(a),e[j+1].innerHTML=j+2}var b=e[0];b.classList.add("carousel-pagination-selected")}},B=function(){var a,b,d=new Hammer(k);d.on("panstart panleft panright panend",function(d){if(!h)switch(d.type){case"panstart":a=l[0].getBoundingClientRect().width;break;case"panright":case"panleft":b=d.deltaX/a;var e=f*i-g/c.slidesPerPage,j=-b*f;c.infinite||(0===i&&d.deltaX>0||i===p-1&&d.deltaX<0)&&(j*=.4),C(j+e*c.slidesPerPage+f*r/2),d.preventDefault();break;case"panend":Math.abs(b)>.2?F(d.deltaX>0?1:-1):D(i,!0)}})},C=function(a,b){k.classList.remove("carousel-transition"),b&&k.classList.add("carousel-transition"),u?(k.style.transform="translate3d("+-1*a+"%,0,0)",k.style.webkitTransform="translate3d("+-1*a+"%,0,0)"):(k.style.transform="translate("+-1*a+"%,0)",k.style.webkitTransform="translate("+-1*a+"%,0)")},D=function(a,b){a=c.infinite?Math.max(-1,Math.min(a,q)):Math.max(0,Math.min(a,q-1));var d=Math.round(a*c.slidesPerPage);for(j=0;p>j;j++)l[j].classList.remove("carousel-slide-selected"),l[j].classList.remove("carousel-slide-next"),l[j].classList.remove("carousel-slide-prev");for(j=0;j<c.slidesPerPage;j++)l[j+r/2+d].classList.add("carousel-slide-selected");var e=d+r/2-1;(c.infinite&&a>-1||!c.infinite&&a>0)&&l[e].classList.add("carousel-slide-prev");var h=Math.round((a+1)*c.slidesPerPage+r/2);p>h&&l[h].classList.add("carousel-slide-next"),i=a,C(f*d-g+f*r/2,b)},E=function(a){if(a=Math.ceil(a),o){for(j=0;j<e.length;j++)e[j].classList.remove("carousel-pagination-selected");c.infinite?q+1>a?e[a-1].classList.add("carousel-pagination-selected"):e[0].classList.add("carousel-pagination-selected"):e[a].classList.add("carousel-pagination-selected")}},F=function(a){if(!h){var b=i,d=(p-r)%c.slidesPerPage,e=Math.round(q-1-d/c.slidesPerPage);0>a?(0!==d&&i===e?i+=d/c.slidesPerPage:i++,D(i,!0)):(i--,D(Math.ceil(i),!0)),b!==i&&(h=!0)}},G=function(){-1===i?D(q-1):0===Math.round(100*(q-i))&&D(0)},H=function(a){var b=Array.prototype.slice.call(a.parentNode.children),c=b.indexOf(a);D(c,!0),i=c};v(),n&&n.addEventListener("click",function(a){F(-1),a.preventDefault()}),m&&m.addEventListener("click",function(a){F(1),a.preventDefault()}),o&&o.addEventListener("click",function(a){for(var b=a.target;b!=o;)H(b),b=b.parentNode}),k.addEventListener("click",function(a){for(var b=a.target;b!=k;)b.classList.contains("carousel-slide-prev")?F(1):b.classList.contains("carousel-slide-next")&&F(-1),b=b.parentNode}),k.addEventListener(t,function(){c.infinite?(G(),E(i+1)):E(i),h=!1})}}}();