function supports3dTransforms(){var a,b=document.createElement("p"),c={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(b,null);for(var d in c)c.hasOwnProperty(d)&&void 0!==b.style[d]&&(b.style[d]="translate3d(1px,1px,1px)",a=window.getComputedStyle(b).getPropertyValue(c[d]));return document.body.removeChild(b),void 0!==a&&a.length>0&&"none"!==a}function transitionEndEventName(){var a=document.createElement("div"),b={transition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var c in b)if(b.hasOwnProperty(c)&&void 0!==a.style[c])return b[c]}var VNCarousel;!function(){VNCarousel=function(a,b){function c(){if(k=a.querySelector(O.slidesWrapper),v=k.children.length,G=0,l=k.children[0],I=k.children[1],J=k.children[v-2],m=k.children[v-1],O.circular){var b=l.cloneNode(!0),c=I.cloneNode(!0),e=J.cloneNode(!0),g=m.cloneNode(!0);k.appendChild(b),k.appendChild(c),k.insertBefore(g,l),k.insertBefore(e,g),b.classList.add("cloned-slide"),c.classList.add("cloned-slide"),e.classList.add("cloned-slide"),g.classList.add("cloned-slide"),u=k.querySelectorAll(".cloned-slide"),G=u.length}for(p=k.children,n=a.querySelector(O.carouselPrev),o=a.querySelector(O.carouselNext),r=a.querySelector(O.carouselPagination),v=p.length,F=100/v,H=Math.max(0,Math.min(O.peekingPercentage,20))/100,B=F*H,x=F-2*B,D=transitionEndEventName(),E=supports3dTransforms(),a.classList.add("carousel"),k.classList.add("carousel-slides-wrapper"),N=0;v>N;N++)p[N].classList.add("carousel-slide");if(r){for(r.innerHTML='<button class="carousel-pagination-item"></button>',s=r.children,N=0;v-G-1>N;N++)q=s[0].cloneNode(!0),s[0].parentNode.appendChild(q);t=s[0],t.classList.add("carousel-pagination-selected")}for(f(O.circular?2:0),k.style.width=100*v+"%",N=0;N<p.length;N++)p[N].style.width=x+"%";d()}function d(){var a=new Hammer(k);a.on("panstart panleft panright panend swiperight swipeleft",function(b){if(!M)switch(b.type){case"panstart":C=p[0].getBoundingClientRect().width;break;case"panright":case"panleft":y=b.deltaX/C,L=b.type;var c=x*(w-1),d=-y*x;O.circular||(0===w&&"panright"==L||w===v-1&&"panleft"==L)&&(d*=.4),e(d+c+x-B),b.preventDefault();break;case"swipeleft":h(-1),a.stop(!0);break;case"swiperight":h(1),a.stop(!0);break;case"panend":Math.abs(y)>.5?(K=Math.abs(Math.round(y)),"panright"==L?f(w-K,!0):f(w+K,!0)):f(w,!0)}})}function e(a,b){k.classList.remove("carousel-transition"),b&&k.classList.add("carousel-transition"),E?(k.style.transform="translate3d("+-1*a+"%,0,0)",k.style.webkitTransform="translate3d("+-1*a+"%,0,0)"):(k.style.transform="translate("+-1*a+"%,0,0)",k.style.webkitTransform="translate("+-1*a+"%,0,0)")}function f(a,b){for(a=O.circular?Math.max(1,Math.min(a,v-2)):Math.max(0,Math.min(a,v-1)),N=0;v>N;N++)p[N].classList.remove("carousel-slide-selected");p[a].classList.add("carousel-slide-selected"),w=a,e(x*a-B,b)}function g(a){if(r){for(N=0;N<s.length;N++)s[N].classList.remove("carousel-pagination-selected");O.circular?s[a-1].classList.add("carousel-pagination-selected"):s[a].classList.add("carousel-pagination-selected")}}function h(a){M||(M=!0,0>a?w+=1:w-=1,f(w,!0))}function i(){1===w?(f(v-3),w=v-3):w===v-2&&(f(2),w=2)}function j(a){z=Array.prototype.slice.call(a.parentNode.children),A=O.circular?z.indexOf(a)+2:z.indexOf(a),f(A,!0),w=A}var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O={circular:!0,slidesWrapper:".js-carousel-slides-wrapper",carouselPrev:".js-carousel-prev",carouselNext:".js-carousel-next",carouselPagination:".js-carousel-pagination",peekingPercentage:0};for(var P in b)b.hasOwnProperty(P)&&(O[P]=b[P]);c(),o&&o.addEventListener("click",function(a){h(-1),a.preventDefault()}),n&&n.addEventListener("click",function(a){h(1),a.preventDefault()}),r&&r.addEventListener("click",function(a){for(var b=a.target;b!=r;)j(b),b=b.parentNode}),k.addEventListener(D,function(){O.circular?(i(),g(w-1)):g(w),M=!1})}}();