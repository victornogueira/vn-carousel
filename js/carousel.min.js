function supports3dTransforms(){var a,b=document.createElement("p"),c={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(b,null);for(var d in c)c.hasOwnProperty(d)&&void 0!==b.style[d]&&(b.style[d]="translate3d(1px,1px,1px)",a=window.getComputedStyle(b).getPropertyValue(c[d]));return document.body.removeChild(b),void 0!==a&&a.length>0&&"none"!==a}function transitionEndEventName(){var a=document.createElement("div"),b={transition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var c in b)if(b.hasOwnProperty(c)&&void 0!==a.style[c])return b[c]}var VNCarousel;!function(){VNCarousel=function(a,b){if("classList"in document.createElement("_")){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M={infinite:!0,slidesWrapper:".js-carousel-slides-wrapper",carouselPrev:".js-carousel-prev",carouselNext:".js-carousel-next",carouselPagination:".js-carousel-pagination",peekingPercentage:0};for(var N in b)b.hasOwnProperty(N)&&(M[N]=b[N]);D=function(){if(c=a.querySelector(M.slidesWrapper),m=c.children.length,x=0,M.infinite){d=c.children[0],z=c.children[1],A=c.children[m-2],e=c.children[m-1];var b=d.cloneNode(!0),n=z.cloneNode(!0),p=A.cloneNode(!0),q=e.cloneNode(!0);c.appendChild(b),c.appendChild(n),c.insertBefore(q,d),c.insertBefore(p,q),x=c.children.length-m,m=c.children.length}for(h=c.children,f=a.querySelector(M.carouselPrev),g=a.querySelector(M.carouselNext),j=a.querySelector(M.carouselPagination),w=100/m,y=Math.max(0,Math.min(M.peekingPercentage,20))/100,s=w*y,o=w-2*s,u=transitionEndEventName(),v=supports3dTransforms(),a.classList.add("carousel"),c.classList.add("carousel-slides-wrapper"),L=0;m>L;L++)h[L].classList.add("carousel-slide");if(j){for(j.classList.add("carousel-pagination"),j.innerHTML='<button class="carousel-pagination-item"></button>',k=j.children,L=0;m-x-1>L;L++)i=k[0].cloneNode(!0),k[0].parentNode.appendChild(i);l=k[0],l.classList.add("carousel-pagination-selected")}for(E(M.infinite?2:0),c.style.width=100*m+"%",L=0;L<h.length;L++)h[L].style.width=o+"%";F()},F=function(){var a=new Hammer(c);a.on("panstart panleft panright panend",function(a){if(!C)switch(a.type){case"panstart":t=h[0].getBoundingClientRect().width;break;case"panright":case"panleft":p=a.deltaX/t;var b=o*n-s,c=-p*o;M.infinite||(0===n&&a.deltaX>0||n===m-1&&a.deltaX<0)&&(c*=.4),G(c+b),a.preventDefault();break;case"panend":Math.abs(p)>.2?H(a.deltaX>0?1:-1):E(n,!0)}})},G=function(a,b){c.classList.remove("carousel-transition"),b&&c.classList.add("carousel-transition"),v?(c.style.transform="translate3d("+-1*a+"%,0,0)",c.style.webkitTransform="translate3d("+-1*a+"%,0,0)"):(c.style.transform="translate("+-1*a+"%,0)",c.style.webkitTransform="translate("+-1*a+"%,0)")},E=function(a,b){for(a=M.infinite?Math.max(1,Math.min(a,m-2)):Math.max(0,Math.min(a,m-1)),L=0;m>L;L++)h[L].classList.remove("carousel-slide-selected"),h[L].classList.remove("carousel-slide-next"),h[L].classList.remove("carousel-slide-prev");h[a].classList.add("carousel-slide-selected"),a>0&&h[a-1].classList.add("carousel-slide-prev"),m-1>a&&h[a+1].classList.add("carousel-slide-next"),n=a,G(o*a-s,b)},I=function(a){if(j){for(L=0;L<k.length;L++)k[L].classList.remove("carousel-pagination-selected");M.infinite?k[a-1].classList.add("carousel-pagination-selected"):k[a].classList.add("carousel-pagination-selected")}},H=function(a){C||(B=n,0>a?n++:n--,E(n,!0),B!==n&&(C=!0))},J=function(){1===n?(E(m-3),n=m-3):n===m-2&&(E(2),n=2)},K=function(a){q=Array.prototype.slice.call(a.parentNode.children),r=M.infinite?q.indexOf(a)+2:q.indexOf(a),E(r,!0),n=r},D(),g&&g.addEventListener("click",function(a){H(-1),a.preventDefault()}),f&&f.addEventListener("click",function(a){H(1),a.preventDefault()}),j&&j.addEventListener("click",function(a){for(var b=a.target;b!=j;)K(b),b=b.parentNode}),c.addEventListener("click",function(a){for(var b=a.target;b!=c;)b.classList.contains("carousel-slide-prev")?H(1):b.classList.contains("carousel-slide-next")&&H(-1),b=b.parentNode}),c.addEventListener(u,function(){M.infinite?(J(),I(n-1)):I(n),C=!1})}}}();