function supports3dTransforms(){var a,b=document.createElement("p"),c={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(b,null);for(var d in c)c.hasOwnProperty(d)&&void 0!==b.style[d]&&(b.style[d]="translate3d(1px,1px,1px)",a=window.getComputedStyle(b).getPropertyValue(c[d]));return document.body.removeChild(b),void 0!==a&&a.length>0&&"none"!==a}function transitionEndEventName(){var a=document.createElement("div"),b={transition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var c in b)if(b.hasOwnProperty(c)&&void 0!==a.style[c])return b[c]}var VNCarousel;!function(){VNCarousel=function(a,b){if("classList"in document.createElement("_")){var c={infinite:!0,slidesWrapper:".js-carousel-slides-wrapper",carouselPrev:".js-carousel-prev",carouselNext:".js-carousel-next",carouselPagination:".js-carousel-pagination",peekingPercentage:0,slidesPerPage:1};for(var d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K=a.querySelector(c.slidesWrapper),L=K.children,M=L.length,N=M/c.slidesPerPage,O=0;w=function(){H(),M>c.slidesPerPage?(E(),x(0)):F()},H=function(){for(a.classList.add("carousel"),K.classList.add("carousel-slides-wrapper"),J=0;M>J;J++)L[J].classList.add("carousel-slide")},E=function(){for(c.infinite&&I(),e=a.querySelector(c.carouselPrev),f=a.querySelector(c.carouselNext),h=a.querySelector(c.carouselPagination),s=100/M,t=Math.max(0,Math.min(c.peekingPercentage,20))/100,o=s*t,k=(s-2*o)/c.slidesPerPage,q=transitionEndEventName(),r=supports3dTransforms(),K.style.width=100*M+"%",J=0;J<L.length;J++)L[J].style.width=k+"%";G(),y()},F=function(){for(J=0;M>J;J++)L[J].style.width=100/c.slidesPerPage+"%";a.classList.add("no-carousel")},I=function(){for(J=0;J<=c.slidesPerPage;J++){var a=L[J],b=a.cloneNode(!0);K.appendChild(b)}for(J=0;J<=c.slidesPerPage;J++){var d=L[2*J+M-c.slidesPerPage-1],e=d.cloneNode(!0);K.insertBefore(e,L[J])}L=K.children,O=L.length-M,M=L.length,N=(M-O)/c.slidesPerPage},G=function(){if(h){for(h.classList.add("carousel-pagination"),h.innerHTML='<button class="carousel-pagination-item">1</button>',i=h.children,J=0;J<(M-O)/c.slidesPerPage-1;J++)g=i[0].cloneNode(!0),i[0].parentNode.appendChild(g),i[J+1].innerHTML=J+2;j=i[0],j.classList.add("carousel-pagination-selected")}},y=function(){var a=new Hammer(K);a.on("panstart panleft panright panend",function(a){if(!u)switch(a.type){case"panstart":p=L[0].getBoundingClientRect().width;break;case"panright":case"panleft":l=a.deltaX/p;var b=k*v-o/c.slidesPerPage,d=-l*k;c.infinite||(0===v&&a.deltaX>0||v===M-1&&a.deltaX<0)&&(d*=.4),z(d+b*c.slidesPerPage+k*O/2),a.preventDefault();break;case"panend":Math.abs(l)>.2?A(a.deltaX>0?1:-1):x(v,!0)}})},z=function(a,b){K.classList.remove("carousel-transition"),b&&K.classList.add("carousel-transition"),r?(K.style.transform="translate3d("+-1*a+"%,0,0)",K.style.webkitTransform="translate3d("+-1*a+"%,0,0)"):(K.style.transform="translate("+-1*a+"%,0)",K.style.webkitTransform="translate("+-1*a+"%,0)")},x=function(a,b){a=c.infinite?Math.max(-1,Math.min(a,N)):Math.max(0,Math.min(a,N-1));var d=Math.round(a*c.slidesPerPage);for(J=0;M>J;J++)L[J].classList.remove("carousel-slide-selected"),L[J].classList.remove("carousel-slide-next"),L[J].classList.remove("carousel-slide-prev");for(J=0;J<c.slidesPerPage;J++)L[J+O/2+d].classList.add("carousel-slide-selected");var e=d+O/2-1;(c.infinite&&a>-1||!c.infinite&&a>0)&&L[e].classList.add("carousel-slide-prev");var f=Math.round((a+1)*c.slidesPerPage+O/2);M>f&&L[f].classList.add("carousel-slide-next"),v=a,z(k*d-o+k*O/2,b)},B=function(a){if(a=Math.ceil(a),h){for(J=0;J<i.length;J++)i[J].classList.remove("carousel-pagination-selected");c.infinite?N+1>a?i[a-1].classList.add("carousel-pagination-selected"):i[0].classList.add("carousel-pagination-selected"):i[a].classList.add("carousel-pagination-selected")}},A=function(a){if(!u){var b=v,d=(M-O)%c.slidesPerPage,e=Math.round(N-1-d/c.slidesPerPage);0>a?(0!==d&&v===e?v+=d/c.slidesPerPage:v++,x(v,!0)):(v--,x(Math.ceil(v),!0)),b!==v&&(u=!0)}},C=function(){-1===v?x(N-1):0===Math.round(100*(N-v))&&x(0)},D=function(a){m=Array.prototype.slice.call(a.parentNode.children),n=m.indexOf(a),x(n,!0),v=n},w(),f&&f.addEventListener("click",function(a){A(-1),a.preventDefault()}),e&&e.addEventListener("click",function(a){A(1),a.preventDefault()}),h&&h.addEventListener("click",function(a){for(var b=a.target;b!=h;)D(b),b=b.parentNode}),K.addEventListener("click",function(a){for(var b=a.target;b!=K;)b.classList.contains("carousel-slide-prev")?A(1):b.classList.contains("carousel-slide-next")&&A(-1),b=b.parentNode}),K.addEventListener(q,function(){c.infinite?(C(),B(v+1)):B(v),u=!1})}}}();