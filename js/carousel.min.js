function supports3dTransforms(){var e,t=document.createElement("p"),r={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(t,null);for(var a in r)r.hasOwnProperty(a)&&void 0!==t.style[a]&&(t.style[a]="translate3d(1px,1px,1px)",e=window.getComputedStyle(t).getPropertyValue(r[a]));return document.body.removeChild(t),void 0!==e&&e.length>0&&"none"!==e}function transitionEndEventName(){var e=document.createElement("div"),t={transition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var r in t)if(t.hasOwnProperty(r)&&void 0!==e.style[r])return t[r]}var VNCarousel;!function(){VNCarousel=function(e,t){function r(){if(d=e.querySelector(H.slidesWrapper),b=d.children.length,q=0,u=d.children[0],B=d.children[1],D=d.children[b-2],p=d.children[b-1],H.circular){var t=u.cloneNode(!0),r=B.cloneNode(!0),n=D.cloneNode(!0),i=p.cloneNode(!0);d.appendChild(t),d.appendChild(r),d.insertBefore(i,u),d.insertBefore(n,i),t.classList.add("cloned-slide"),r.classList.add("cloned-slide"),n.classList.add("cloned-slide"),i.classList.add("cloned-slide"),L=d.querySelectorAll(".cloned-slide"),q=L.length}for(h=d.children,f=e.querySelector(H.carouselPrev),m=e.querySelector(H.carouselNext),g=e.querySelector(H.carouselPagination),b=h.length,S=100/b,j=Math.max(0,Math.min(H.peekingPercentage,20))/100,T=S*j,N=S-2*T,C=transitionEndEventName(),O=supports3dTransforms(),e.classList.add("carousel"),d.classList.add("carousel-slides-wrapper"),A=0;b>A;A++)h[A].classList.add("carousel-slide");for(g.innerHTML='<button class="carousel-pagination-item"></button>',y=g.children,A=0;b-q-1>A;A++)v=y[0].cloneNode(!0),y[0].parentNode.appendChild(v);for(s(H.circular?2:0),d.style.width=100*b+"%",A=0;A<h.length;A++)h[A].style.width=N+"%";w=y[0],w.classList.add("carousel-pagination-selected"),a()}function a(){var e=new Hammer(d);e.on("panstart panleft panright panend swiperight swipeleft",function(t){if(!z)switch(t.type){case"panstart":P=h[0].getBoundingClientRect().width;break;case"panright":case"panleft":x=t.deltaX/P,W=t.type;var r=N*(k-1),a=-x*N;H.circular||(0===k&&"right"==t.direction||k===b-1&&"left"==t.direction)&&(a*=.4),n(a+r+N-T),t.preventDefault();break;case"swipeleft":o(-1),e.stop(!0);break;case"swiperight":o(1),e.stop(!0);break;case"panend":Math.abs(x)>.5?(V=Math.abs(Math.round(x)),"panright"==W?s(k-V,!0):s(k+V,!0)):s(k,!0)}})}function n(e,t){d.classList.remove("carousel-transition"),t&&d.classList.add("carousel-transition"),O?(d.style.transform="translate3d("+-1*e+"%,0,0)",d.style.webkitTransform="translate3d("+-1*e+"%,0,0)"):(d.style.transform="translate("+-1*e+"%,0,0)",d.style.webkitTransform="translate("+-1*e+"%,0,0)")}function s(e,t){for(e=H.circular?Math.max(1,Math.min(e,b-2)):Math.max(0,Math.min(e,b-1)),A=0;b>A;A++)h[A].classList.remove("carousel-slide-selected");h[e].classList.add("carousel-slide-selected"),k=e,n(N*e-T,t)}function i(e){for(A=0;A<y.length;A++)y[A].classList.remove("carousel-pagination-selected");H.circular?y[e-1].classList.add("carousel-pagination-selected"):y[e].classList.add("carousel-pagination-selected")}function o(e){z||(z=!0,0>e?k+=1:k-=1,s(k,!0))}function l(){1===k?(s(b-3),k=b-3):k===b-2&&(s(2),k=2)}function c(e){E=Array.prototype.slice.call(e.parentNode.children),M=H.circular?E.indexOf(e)+2:E.indexOf(e),s(M,!0),k=M}var d,u,p,f,m,h,v,g,y,w,L,b,k,N,x,E,M,T,P,C,O,S,q,j,B,D,V,W,z,A,H={circular:!0,slidesWrapper:".js-carousel-slides-wrapper",carouselPrev:".js-carousel-prev",carouselNext:".js-carousel-next",carouselPagination:".js-carousel-pagination",peekingPercentage:0};for(var R in t)t.hasOwnProperty(R)&&(H[R]=t[R]);r(),m.addEventListener("click",function(e){o(-1),e.preventDefault()}),f.addEventListener("click",function(e){o(1),e.preventDefault()}),g.addEventListener("click",function(e){for(var t=e.target;t!=g;)c(t),t=t.parentNode}),d.addEventListener(C,function(){H.circular?(l(),i(k-1)):i(k),z=!1})}}();